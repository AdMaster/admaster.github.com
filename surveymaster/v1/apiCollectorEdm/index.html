<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Language" content="en-us" />
  <meta http-equiv="imagetoolbar" content="false" />
  <meta name="MSSmartTagsPreventParsing" content="true" />
  <title>问卷渠道 - EDM</title>
  <link href="/css/reset.css" rel="stylesheet" type="text/css" />
  <link href="/css/960.css" rel="stylesheet" type="text/css" />
  <link href="/css/uv_active4d.css" rel="stylesheet" type="text/css" />
  <link href="/shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
  <link href="/shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css">
  <script src="/shared/js/jquery.js" type="text/javascript"></script>
  <script src="/shared/js/documentation.js" type="text/javascript"></script>
</head>
<body class="api">

    <div id="header-wrapper">
      <div id="header">
        <div>
          <a class="logo" href="/"><img src="/images/logo_developer.png" width="255" height="45" /></a>
          <ul class="nav">
            <li><a href="/trackmaster/v1/apiIndex/">TrackMaster</a></li>
            <li><a href="/weibomaster/v1/apiIndex/">WeiboMaster</a></li>
            <li><a href="/surveymaster/v1/apiIndex/">SurveyMaster</a></li>
          </ul>
        </div>
      </div><!-- #header -->
    </div><!-- #header-wrapper -->

    <div id="wrapper">
      <div class="content">
    <h1 id="edm">问卷渠道 - EDM</h1>

<h2 id="p1">获取指定问卷的所有渠道</h2>

<pre><code>GET /survey/:survey_id/collectors
</code></pre>

<h3 id="section">响应</h3>
<pre class="headers">
<code>Status: 200 OK
</code></pre>
<pre class="highlight">
<code class="language-javascript">	<span class="p">[</span>
		<span class="p">{</span>
			<span class="s2">"collector_id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
			<span class="s2">"collector_type"</span><span class="o">:</span> <span class="s2">"open_link"</span><span class="p">,</span>
			<span class="s2">"collector_name"</span><span class="o">:</span> <span class="s2">"abc"</span><span class="p">,</span>
			<span class="s2">"status"</span><span class="o">:</span> <span class="s2">"open"</span><span class="p">,</span>
			<span class="s2">"landing"</span><span class="o">:</span> <span class="mi">100000</span><span class="p">,</span>
			<span class="s2">"answered"</span><span class="o">:</span> <span class="mi">10000</span><span class="p">,</span>
			<span class="s2">"finished"</span><span class="o">:</span> <span class="mi">1000</span><span class="p">,</span>
		<span class="p">}</span>
		<span class="p">{</span>
			<span class="s2">"collector_id"</span><span class="o">:</span> <span class="s2">"2"</span><span class="p">,</span>
			<span class="s2">"collector_type"</span><span class="o">:</span> <span class="s2">"EDN"</span><span class="p">,</span>
			<span class="s2">"collector_name"</span><span class="o">:</span> <span class="s2">"abcd"</span><span class="p">,</span>
			<span class="s2">"status"</span><span class="o">:</span> <span class="s2">"closed"</span><span class="p">,</span>
			<span class="s2">"landing"</span><span class="o">:</span> <span class="mi">100000</span><span class="p">,</span>
			<span class="s2">"answered"</span><span class="o">:</span> <span class="mi">10000</span><span class="p">,</span>
			<span class="s2">"finished"</span><span class="o">:</span> <span class="mi">1000</span><span class="p">,</span>
			<span class="s2">"respondents"</span><span class="o">:</span> <span class="mi">200000</span>
		<span class="p">}</span>
	<span class="p">]</span></code></pre>
<h2 id="p2">获取EDM渠道信息</h2>

<pre><code>GET /collector/:id
</code></pre>

<h3 id="section-1">响应</h3>
<pre class="headers">
<code>Status: 200 OK
</code></pre>
<pre class="highlight">
<code class="language-javascript">	<span class="p">{</span>
		<span class="c1">//basic info</span>
		<span class="s2">"collector_id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
		<span class="s2">"collector_name"</span><span class="o">:</span> <span class="s2">"abc..."</span>
		<span class="s2">"collector_type"</span><span class="o">:</span> <span class="s2">"open_link"</span><span class="p">,</span>
		<span class="s2">"status"</span><span class="o">:</span> <span class="s2">"open"</span><span class="p">,</span>
		<span class="s2">"landing"</span><span class="o">:</span> <span class="mi">100000</span><span class="p">,</span>
		<span class="s2">"answered"</span><span class="o">:</span> <span class="mi">10000</span><span class="p">,</span>
		<span class="s2">"finished"</span><span class="o">:</span> <span class="mi">1000</span><span class="p">,</span>
	
		<span class="c1">//advanced</span>
		<span class="s2">"password"</span><span class="o">:</span> <span class="s2">"123456"</span><span class="p">,</span>
		<span class="s2">"dead_line"</span><span class="o">:</span> <span class="s2">"2012-12-23"</span><span class="p">,</span>
		<span class="s2">"max_count"</span><span class="o">:</span> <span class="mi">5000</span><span class="p">,</span>
		<span class="s2">"freq_control"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		
		<span class="c1">//contacts</span>

		<span class="s2">"contacts_total"</span><span class="o">:</span> <span class="mi">600</span><span class="p">,</span>
		<span class="s2">"unsent"</span><span class="o">:</span> <span class="mi">200</span><span class="p">,</span>
		<span class="s2">"sent"</span><span class="o">:</span> <span class="mi">400</span><span class="p">,</span>
		<span class="s2">"click"</span><span class="o">:</span> <span class="mi">300</span><span class="p">,</span>
		<span class="s2">"answered"</span><span class="o">:</span> <span class="mi">200</span><span class="p">,</span>
		<span class="s2">"finished"</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
		<span class="s2">"fail"</span><span class="o">:</span><span class="mi">20</span><span class="p">,</span>
		
		<span class="c1">//mails</span>

		<span class="s2">"mails_total"</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
		<span class="s2">"draft"</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
		<span class="s2">"scheduled"</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
		<span class="s2">"sending"</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
		<span class="s2">"mailed"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
		
	<span class="p">}</span></code></pre>

<h2 id="p3">获取EDM指定渠道下的联系人信息</h2>

<pre><code>get /collectors/:collector_id/contacts/:contact_id
</code></pre>

<h3 id="section-2">响应</h3>
<pre class="headers">
<code>Status: 200 OK
</code></pre>
<pre class="highlight">
<code class="language-javascript">	<span class="p">[</span>
		<span class="p">{</span>
			<span class="s2">"email"</span><span class="o">:</span> <span class="s2">"abc@admaster.com.cn"</span><span class="p">,</span>
			<span class="s2">"firstname"</span><span class="o">:</span> <span class="s2">"Vincent"</span><span class="p">,</span>
			<span class="s2">"lastname"</span><span class="o">:</span> <span class="s2">"Yan"</span><span class="p">,</span>
			<span class="s2">"memo"</span><span class="o">:</span> <span class="s2">"CEO"</span><span class="p">,</span>
			<span class="s2">"send_status"</span><span class="o">:</span> <span class="s2">"sent/unsent/fail"</span><span class="p">,</span>
			<span class="c1">//click, answered, finished</span>
			<span class="s2">"answer_status"</span><span class="o">:</span> <span class="s2">"click"</span><span class="p">,</span>
		<span class="p">}</span>
		<span class="p">{</span>
			<span class="s2">"email"</span><span class="o">:</span> <span class="s2">"abc@admaster.com.cn"</span><span class="p">,</span>
			<span class="s2">"firstname"</span><span class="o">:</span> <span class="s2">"Vincent"</span><span class="p">,</span>
			<span class="s2">"lastname"</span><span class="o">:</span> <span class="s2">"Yan"</span><span class="p">,</span>
			<span class="s2">"memo"</span><span class="o">:</span> <span class="s2">"CEO"</span><span class="p">,</span>
			<span class="s2">"send_status"</span><span class="o">:</span> <span class="s2">"sent/unsent/fail"</span><span class="p">,</span>
			<span class="c1">//click, answered, finished</span>
			<span class="s2">"answer_status"</span><span class="o">:</span> <span class="s2">"click"</span><span class="p">,</span>
		<span class="p">}</span>
		<span class="p">{</span>
			<span class="s2">"email"</span><span class="o">:</span> <span class="s2">"abc@admaster.com.cn"</span><span class="p">,</span>
			<span class="s2">"firstname"</span><span class="o">:</span> <span class="s2">"Vincent"</span><span class="p">,</span>
			<span class="s2">"lastname"</span><span class="o">:</span> <span class="s2">"Yan"</span><span class="p">,</span>
			<span class="s2">"memo"</span><span class="o">:</span> <span class="s2">"CEO"</span><span class="p">,</span>
			<span class="s2">"send_status"</span><span class="o">:</span> <span class="s2">"sent/unsent/fail"</span><span class="p">,</span>
			<span class="c1">//click, answered, finished</span>
			<span class="s2">"answer_status"</span><span class="o">:</span> <span class="s2">"click"</span><span class="p">,</span>
		<span class="p">}</span>
	<span class="p">]</span></code></pre>

<h2 id="p4">获取EDM指定渠道下的联系人信息</h2>

<pre><code>get /collectors/:collector_id/contacts/:contact_id
</code></pre>

<h3 id="section-3">参数</h3>

<p>filter</p>

<ul>
<li><code>sent</code></li>
  <li><code>unsent</code></li>
  <li><code>answered</code></li>
  <li><code>unanswered</code></li>
  <li><code>fail</code></li>
</ul><dl>
<dt>per_page</dt>
  <dd>
<em>可选</em> <em>int</em>，每页显示问卷数量。  </dd>
</dl><ul>
<li>
<code>20</code>（<em>默认</em>）</li>
  <li><code>10</code></li>
  <li><code>50</code></li>
  <li><code>100</code></li>
</ul><h2 id="p5">添加联系人</h2>

<pre><code>POST /collectors/:collector_id/contacts/
</code></pre>

<h3 id="section-4">请求</h3>
<pre class="highlight">
<code class="language-javascript">	<span class="p">{</span>
		<span class="s2">"email"</span><span class="o">:</span> <span class="s2">"abc@admaster.com.cn"</span><span class="p">,</span>
		<span class="s2">"firstname"</span><span class="o">:</span> <span class="s2">"Vincent"</span><span class="p">,</span>
		<span class="s2">"lastname"</span><span class="o">:</span> <span class="s2">"Yan"</span><span class="p">,</span>
		<span class="s2">"memo"</span><span class="o">:</span> <span class="s2">"CEO"</span>
	<span class="p">}</span></code></pre>
<hr><h2 id="p6">获取邮件列表</h2>

<pre><code>get /collector/:collector_id/mails
</code></pre>

<h3 id="section-5">响应</h3>
<pre class="headers">
<code>Status: 200 OK
</code></pre>
<pre class="highlight">
<code class="language-javascript">	<span class="p">[</span>
		<span class="p">{</span>
			<span class="s2">"mail_id"</span><span class="o">:</span> <span class="s2">"111"</span><span class="p">,</span>
			<span class="s2">"title"</span><span class="o">:</span> <span class="s2">"abcde..."</span><span class="p">,</span>
			<span class="s2">"status"</span><span class="o">:</span> <span class="s2">"draft/scheduled/sending/mailed"</span>
		<span class="p">},</span>
		<span class="p">{</span>
			<span class="s2">"mail_id"</span><span class="o">:</span> <span class="s2">"111"</span><span class="p">,</span>
			<span class="s2">"title"</span><span class="o">:</span> <span class="s2">"abcde..."</span><span class="p">,</span>
			<span class="s2">"status"</span><span class="o">:</span> <span class="s2">"draft/scheduled/sending/mailed"</span>
		<span class="p">},</span>
		<span class="p">{</span>
			<span class="s2">"mail_id"</span><span class="o">:</span> <span class="s2">"111"</span><span class="p">,</span>
			<span class="s2">"title"</span><span class="o">:</span> <span class="s2">"abcde..."</span><span class="p">,</span>
			<span class="s2">"status"</span><span class="o">:</span> <span class="s2">"draft/scheduled/sending/mailed"</span>
		<span class="p">}</span>
	<span class="p">]</span></code></pre>

<h2 id="p7">获取指定邮件信息</h2>

<pre><code>GET /collector/:collector_id/mails/:mail_id
</code></pre>

<h3 id="section-6">响应</h3>
<pre class="headers">
<code>Status: 200 OK
</code></pre>
<pre class="highlight">
<code class="language-javascript">	<span class="p">{</span>
		<span class="s2">"mail_id"</span><span class="o">:</span> <span class="s2">"111"</span><span class="p">,</span>
		<span class="s2">"title"</span><span class="o">:</span> <span class="s2">"abcde..."</span><span class="p">,</span>
		<span class="s2">"content"</span><span class="o">:</span> <span class="s2">"abcdefg..."</span>
		<span class="s2">"status"</span><span class="o">:</span> <span class="s2">"draft/scheduled/sending/mailed"</span><span class="p">,</span>
		<span class="c1">//need detail</span>
		<span class="s2">"relevant_contacts"</span><span class="o">:</span> <span class="s2">"relevant_id"</span><span class="p">,</span>
		<span class="s2">"scheduled_datetime"</span><span class="o">:</span> <span class="s2">"2012-12-23 23:23:31"</span>
	<span class="p">}</span></code></pre>

<h2 id="p8">创建一个新的邮件</h2>

<pre><code>POST /collector/:collector_id/mails
</code></pre>

<h3 id="section-7">请求</h3>
<pre class="highlight">
<code class="language-javascript">	<span class="p">{</span>	
		<span class="s2">"title"</span><span class="o">:</span> <span class="s2">"abcde..."</span><span class="p">,</span>
		<span class="s2">"content"</span><span class="o">:</span> <span class="s2">"abcdefg..."</span>
		<span class="s2">"contacts"</span>
		<span class="p">[</span>
			<span class="s2">"contact_id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
			<span class="s2">"contact_id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
			<span class="s2">"contact_id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
			<span class="s2">"contact_id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
			<span class="s2">"contact_id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
		<span class="p">],</span>
		<span class="s2">"send_way"</span><span class="o">:</span> <span class="s2">"draft/now/scheduled"</span><span class="p">,</span>
		<span class="s2">"scheduled_time"</span><span class="o">:</span> <span class="s2">"2012-12-23 07:00:00"</span>
	<span class="p">}</span></code></pre>
      </div>

    <div id="js-sidebar" class="sidebar-shell">
      <div class="js-toggle-list sidebar-module expandable">
        <ul>
          <li class="js-topic">
            <h3><a href="#" class="js-expand-btn collapsed">&nbsp;</a><a href="/trackmaster/v1/apiGetStart/">Coming soon</a></h3>
          </li>
       </ul>
      </div> <!-- /sidebar-module -->
    </div><!-- /sidebar-shell -->

    </div><!-- #wrapper -->

    <div id="footer" >
       <div class="lower_footer">
        <div class="footer_inner clearfix">              
          <div id="legal"> 
              <ul id="legal_links">
                <li><a href="http://www.admaster.com.cn/">AdMaster首页</a></li>
                <li><a href="http://www.trackmaster.com.cn/?m=home&a=service">服务条款</a></li>
                <li><a href="http://www.admaster.com.cn/?page_id=27">与我们联系</a></li>
              </ul>

              <p>&copy; <span id="year">year</span> AdMaster Inc. All rights reserved.</p>
            </div><!-- /#legal or /#legal_ie-->
        </div><!-- /.site -->
      </div><!-- /.lower_footer -->
    </div><!-- /#footer -->
</body>
</html>
