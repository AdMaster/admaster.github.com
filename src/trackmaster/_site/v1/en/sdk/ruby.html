<h1 id='trackmaster_api_ruby_sdk'>TrackMaster API Ruby SDK</h1>

<h3 id='api_sample'>API Sample</h3>

<pre class='prettyprint'><code>require &#39;net/http&#39;

module TrackMasterSDK

  class Server
    def initialize(host, port, options = nil)
      @host = host
      @port = port
      @options = options
    end

    def delete(uri)
      request(Net::HTTP::Delete.new(uri))
    end

    def get(uri)
      request(Net::HTTP::Get.new(uri))
    end

    def put(uri, json)
      req = Net::HTTP::Put.new(uri)
      req[&quot;content-type&quot;] = &quot;application/json&quot;
      req.body = json
      request(req)
    end

    def post(uri, json)
      req = Net::HTTP::Post.new(uri)
      req[&quot;content-type&quot;] = &quot;application/json&quot;
      req.body = json
      request(req)
    end

    def request(req)
      res = Net::HTTP.start(@host, @port) { |http|http.request(req) }
      unless res.kind_of?(Net::HTTPSuccess)
        handle_error(req, res)
      end
      res
    end

    private

    def handle_error(req, res)
      e = RuntimeError.new(&quot;#{res.code}:#{res.message}\nMETHOD:#{req.method}\nURI:#{req.path}\n#{res.body}&quot;)
      raise e
    end
  end
end</code></pre>

<h3 id='get_an_access_token'>Get an access_token</h3>

<pre><code>json = JSON.generate({
  client_id: &quot;***&quot;,
  client_secret: &quot;***&quot;,
  grant_type: &quot;password&quot;,
  email: &quot;***&quot;,
  password: &quot;***&quot;
})

server = TrackMasterSDK::Server.new(&quot;open.admasterapi.com&quot;, &quot;80&quot;)
response = server.post(&quot;/user&quot;, json)</code></pre>

<h3 id='get_the_user'>Get the user</h3>

<pre><code>server = TrackMasterSDK::Server.new(&quot;track.admasterapi.com&quot;, &quot;80&quot;)
response = server.get(&quot;/user?access_token=***&quot;)</code></pre>

<h3 id='get_the_network_of_user_in_trackmaster'>Get the network of user in TrackMaster</h3>

<pre><code>response = server.get(&quot;/user/networks?access_token=***&quot;)</code></pre>