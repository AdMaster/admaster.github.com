<h1 id='id60'>媒体报告</h1>
<div class='maruku_toc'><ul style='list-style: none;'><li><a href='#id61'>获取指定媒体下的项目</a></li><li><a href='#id62'>获取指定项目下的日报告</a></li><li><a href='#id63'>获取指定监测代码下的项目日报告</a></li><li><a href='#id64'>获取指定监测代码下的项目报告</a></li><li><a href='#_iab_'>媒体用户获取 iab 数据</a></li><li><a href='#id65'>获取指定媒体项目报告列表</a></li></ul></div>
<h2 id='id61'>获取指定媒体下的项目</h2>

<pre><code>GET /medias/:media_id/campaigns</code></pre>

<p><strong>响应</strong></p>

<pre class='prettyprint'><code>Status: 200 OK</code></pre>

<pre><code>[
  {
    &quot;id&quot;: 10185,
    &quot;name&quot;: &quot;这是一个测试项目&quot;,
    &quot;start_date&quot;: &quot;2012-01-03&quot;,
    &quot;end_date&quot;: &quot;2012-06-23&quot;,
    &quot;created_at&quot;: &quot;2012-09-06T20:39:23Z&quot;
  }
]</code></pre>

<h2 id='id62'>获取指定项目下的日报告</h2>

<pre><code>GET /medias/:media_id/campaigns/:campaign_id/daily_reports</code></pre>

<p><strong>参数</strong></p>

<dl>
<dt><code>start_time</code></dt>

<dd><em>可选</em> <strong>date</strong> - 项目开始日期，例如 2012-08-01，会列出项目开始日期大于等于此设定的项目</dd>

<dt><code>end_time</code></dt>

<dd><em>可选</em> <strong>date</strong> - 项目结束日期，例如 2012-08-02，会列出项目结束日期小于等于此设定的项目</dd>

<dt><code>sort</code></dt>

<dd><em>可选</em> <strong>string</strong> - 列表排序以什么排序</dd>
</dl>

<p>* <code>time</code> - 按照时间排序 * <code>imp</code> - 按照曝光排序 * <code>clk</code> - 按照点击排序 * <code>uimp</code> - 按照独立曝光排序 * <code>uclk</code> - 按照独立点击排序</p>

<dl>
<dt><code>direction</code></dt>

<dd><em>可选</em> <strong>string</strong> - 排序方式</dd>
</dl>

<p>* <code>asc</code> 升序 (_默认_) * <code>desc</code> 降序</p>

<p><strong>响应</strong></p>

<pre class='prettyprint'><code>Status: 200 OK</code></pre>

<pre><code>[
  {
    &quot;time&quot;: &quot;2012-08-01&quot;, // 时间
    &quot;imp&quot;: 23, //曝光
    &quot;uimp&quot;: 20, //独立曝光
    &quot;clk&quot;: 20, //点击
    &quot;uclk&quot;: 10, //独立点击
  }
]</code></pre>

<h2 id='id63'>获取指定监测代码下的项目日报告</h2>

<pre><code>GET /medias/campaigns/daily_reports/codes</code></pre>

<p><strong>参数</strong></p>

<dl>
<dt><code>code</code></dt>

<dd><em>必选</em> <strong>string</strong> - 项目监测代码</dd>
</dl>

<p><strong>响应</strong></p>

<pre><code>Status: 204 No Content
Location: http:///medias/1308/campaigns/10256/daily_reports
X-RateLimit-Limit: 5000
X-RateLimit-Remaining: 4999</code></pre>

<h2 id='id64'>获取指定监测代码下的项目报告</h2>

<pre><code>GET /medias/campaigns/reports/codes</code></pre>

<p><strong>参数</strong></p>

<dl>
<dt><code>code</code></dt>

<dd><em>必选</em> <strong>string</strong> - 项目监测代码</dd>
</dl>

<p><strong>响应</strong></p>

<pre><code>Status: 204 No Content
Location: http:///medias/1308/campaigns/10256/reports
X-RateLimit-Limit: 5000
X-RateLimit-Remaining: 4999</code></pre>

<h2 id='_iab_'>媒体用户获取 iab 数据</h2>

<pre><code>GET /medias/:id/ies</code></pre>

<p><strong>响应</strong></p>

<pre><code>Status: 200 OK
Link: &lt;http:///medias/1/ies?page=2&gt;; rel=&quot;next&quot;,
      &lt;http:///medias/1/ies?page=10&gt;; rel=&quot;last&quot;
X-RateLimit-Limit: 5000
X-RateLimit-Remaining: 4999</code></pre>

<p><strong>参数</strong></p>

<dl>
<dt><code>pubid</code></dt>

<dd><em>可选</em> <strong>string</strong> - pubid 指定后只获取该 pubid 的数据</dd>

<dt><code>date</code></dt>

<dd><em>可选</em> <strong>date</strong> - 日期，要查看的数据日期，YYYY-mm-dd 例如: 2012-06-08 ,不指定则获取头一天的数据</dd>

<dt><code>per_page</code></dt>

<dd><em>可选</em> <strong>integer</strong> - 分页数量，默认每页 30 条</dd>
</dl>

<p><code>per_page</code> 和 <code>page</code> 一起使用显示一系列数据或者单独使用限制返回数据的数目。当不指定<code>per_page</code> 时，默认最大返回 30 条数据。</p>

<pre class='prettyprint'><code>[
  {
    &quot;date_hour&quot;: 2012061015,
    &quot;pubid&quot;: &quot;IYK_IMloxnwepMEqlx&quot;,
    &quot;city&quot;: &quot;北京&quot;,
    &quot;geoid&quot;: 110000,
    &quot;impression&quot;: 12039423,
    &quot;click&quot;: 43432,
  }
]</code></pre>

<h2 id='id65'>获取指定媒体项目报告列表</h2>

<pre><code>GET /medias/:media_id/campaigns/:campaign_id/reports</code></pre>

<p><strong>参数</strong></p>

<dl>
<dt><code>time</code></dt>

<dd><em>必选</em> <strong>string</strong> - 数据时间类型,与参数 <code>start_time</code> 和 <code>end_time</code> 共同使用。</dd>
</dl>

<p>* <code>hourly</code> 获取小时数据 * <code>daily</code> 获取日数据 * <code>weekly</code> 获取周数据 * <code>monthly</code> 获取月数据</p>

<dl>
<dt><code>dims</code></dt>

<dd><em>可选</em> <strong>string</strong> - 数据聚合维度,多个选项之间用<code>,</code>分开</dd>
</dl>

<p>* <code>placement</code> 按广告位维度聚合 * <code>keyword</code> 按关键字维度聚合 * <code>creative</code> 按创意维度聚合 * <code>geo</code> 按地域维度聚合 * <code>time</code> 按时间维度聚合</p>

<dl>
<dt><code>placement_id</code></dt>

<dd><em>可选</em> <strong>integer</strong> - 广告位 ID</dd>

<dt><code>keyword_id</code></dt>

<dd><em>可选</em> <strong>integer</strong> - 关键字 ID</dd>

<dt><code>creative_id</code></dt>

<dd><em>可选</em> <strong>integer</strong> - 创意 ID</dd>

<dt><code>geo_id</code></dt>

<dd><em>可选</em> <strong>integer</strong> - 地域 ID</dd>

<dt><code>start_time</code></dt>

<dd><em>可选</em> <strong>hour</strong> - 开始时间，会列出日期大于等于此设定的项目，与参数<code>time</code>一起使用。<br />采用国际标准 ISO 8601 的日期和时间显示格式。</dd>
</dl>

<p>* 当参数 <code>time</code> 选择 <code>小时</code>，时间格式 YYYY-MM-DDThh:mm:ss+08:00。例 2012-11-06T01:57:10+08:00。仅支持北京时间的时区表示，输出格式同样为 YYYY-MM-DDThh:mm:ss+08:00。</p>

<p>* 当参数 <code>time</code> 选择 <code>天</code>，时间格式 YYYY-MM-DD。例 2012-11-06。</p>

<p>* 当参数 <code>time</code> 选择 <code>周</code>，时间格式 YYYY-Www。例 2005-W01。</p>

<p>* 当参数 <code>time</code> 选择 <code>月</code>，时间格式 YYYY-MM。例 2005-01。</p>

<dl>
<dt><code>end_time</code></dt>

<dd><em>可选</em> <strong>hour</strong> - 结束时间，会列出日期小于等于此设定的项目，与参数<code>time</code>一起使用。<br />采用国际标准 ISO 8601 的日期和时间显示格式。</dd>
</dl>

<p>* 当参数 <code>time</code> 选择 <code>小时</code>，时间格式 YYYY-MM-DDThh:mm:ss+08:00。例 2012-11-06T01:57:10+08:00。仅支持北京时间的时区表示，输出格式同样为 YYYY-MM-DDThh:mm:ss+08:00。</p>

<p>* 当参数 <code>time</code> 选择 <code>天</code>，时间格式 YYYY-MM-DD。例 2012-11-06。</p>

<p>* 当参数 <code>time</code> 选择 <code>周</code>，时间格式 YYYY-Www。例 2005-W01，表示选择 2005 年的第一周。</p>

<p>* 当参数 <code>time</code> 选择 <code>月</code>，时间格式 YYYY-MM。例 2005-01。</p>

<dl>
<dt><code>sort</code></dt>

<dd><em>可选</em> <strong>string</strong> - 列表排序以什么排序</dd>
</dl>

<p>* <code>time</code> - 按照时间排序 * <code>imp</code> - 按照曝光排序 * <code>clk</code> - 按照点击排序 * <code>uimp</code> - 按照独立曝光排序 * <code>uclk</code> - 按照独立点击排序 * <code>placement_id</code> - 按照广告位 ID 排序</p>

<dl>
<dt><code>direction</code></dt>

<dd><em>可选</em> <strong>string</strong> - 排序方式</dd>
</dl>

<p>* <code>asc</code> 升序 (_默认_) * <code>desc</code> 降序</p>

<dl>
<dt><code>page</code></dt>

<dd><em>可选</em> <strong>integer</strong> - 显示页码</dd>
</dl>

<p>默认显示页码为 ‘1’，起始页为 ‘1’ 而不是 ‘0’。<code>page</code> 和 <code>per_page</code>一起使用，例如当返回的数据超过 30 条时，可以通过设定 <code>page</code>显示 30 条之后的数据。</p>

<dl>
<dt><code>per_page</code></dt>

<dd><em>可选</em> <strong>integer</strong> - 分页数量，默认每页 30 条</dd>
</dl>

<p><code>per_page</code> 和 <code>page</code> 一起使用显示一系列数据或者单独使用限制返回数据的数目。当不指定<code>per_page</code> 时，默认最大返回 30 条数据。</p>

<p><strong>响应</strong></p>

<pre class='prettyprint'><code>Status: 200 OK
Link: &lt;http:///medias/1/campaigns/12/reports?page=2&gt;; rel=&quot;next&quot;,
      &lt;http:///medias/1/campaigns/12/reports?page=10&gt;; rel=&quot;last&quot;</code></pre>

<pre><code>[
  {
    &quot;campaign_id&quot;: 10185,
    &quot;time&quot;: &quot;2012-08-03&quot;,
    &quot;imp&quot;: 9,
    &quot;uimp&quot;: 6,
    &quot;ipuimp&quot;: 6,
    &quot;clk&quot;: 3,
    &quot;uclk&quot;: 3,
    &quot;ipuclk&quot;: 2
  }
]</code></pre>

<p><strong>字段说明</strong></p>

<p>返回值字段 | 字段类型 | 字段说明 imp | integer | 曝光 uimp | integer | 独立曝光 ipuimp | integer | IP独立曝光 clk | integer | 点击 uclk | integer | 独立点击 ipuclk | integer | IP独立点击</p>

<p><strong>获取数据组合说明</strong></p>

<p>不是所有的属性都可以搭配获取数据，只有特定的组合才可以获取到相应数据。当选择了 dims=time 时，显示内容按时间分组聚合。</p>

<p>组合|说明 time=daily |粒度为天，指定媒体指定项目数据 time=daily&amp;dims=geo|粒度为天，指定媒体指定项目分地域数据 time=daily&amp;dims=creative |粒度为天，指定媒体指定项目分创意数据 time=daily&amp;dims=placement|粒度为天，指定媒体指定项目分广告位数据 time=daily&amp;dims=placement,geo|粒度为天，指定媒体指定项目分广告位分地域数据 time=daily&amp;dims=placement,keyword|粒度为天，指定媒体指定项目分广告位分关键字数据 time=daily&amp;dims=placement,creative |粒度为天，指定媒体指定项目分广告位分创意数据 time=hourly|粒度为小时，指定媒体指定项目数据 time=hourly&amp;dims=creative |粒度为小时，指定媒体指定项目分创意数据 time=hourly&amp;dims=geo|粒度为小时，指定媒体指定项目分地域数据 time=hourly&amp;dims=placement|粒度为小时，指定媒体指定项目分广告位数据 time=hourly&amp;dims=placement,creative |粒度为小时，指定媒体指定项目分广告位分创意数据 time=hourly&amp;dims=placement,geo|粒度为小时，指定媒体指定项目分广告位分地域数据 time=hourly&amp;dims=placement,keyword|粒度为小时，指定媒体指定项目分广告位分关键字数据 time=monthly|粒度为月，指定媒体指定项目数据 time=monthly&amp;dims=placement|粒度为月，指定媒体指定项目分广告位数据 time=monthly&amp;dims=placement,keyword|粒度为月，指定媒体指定项目分广告位分关键字数据 time=weekly|粒度为周，指定媒体指定项目数据 time=weekly&amp;dims=placement|粒度为周，指定媒体指定项目分广告位数据 time=weekly&amp;dims=placement,keyword |粒度为周，指定媒体指定项目分广告位分关键字数据</p>

<p><strong>示例</strong></p>

<p>维度参数包括 time，显示内容按时间分组聚合。</p>

<pre class='prettyprint'><code>[
    {
        &quot;campaign_id&quot;: 10116,
        &quot;time&quot;: &quot;2012-11-01&quot;,
        &quot;imp&quot;: 3,
        &quot;uimp&quot;: 3,
        &quot;clk&quot;: 7,
        &quot;uclk&quot;: 7,
        &quot;ipuimp&quot;: 3,
        &quot;ipuclk&quot;: 4
    },
    {
        &quot;campaign_id&quot;: 10116,
        &quot;time&quot;: &quot;2012-11-02&quot;,
    …
]</code></pre>

<p>维度参数不选择 time</p>

<pre class='prettyprint'><code>[
    {
        &quot;campaign_id&quot;: 10116,
        &quot;imp&quot;: 28,
        &quot;uimp&quot;: 27,
        &quot;clk&quot;: 72,
        &quot;uclk&quot;: 39,
        &quot;ipuimp&quot;: 27,
        &quot;ipuclk&quot;: 24
    }
]</code></pre>