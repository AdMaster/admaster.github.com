<h1 id='id123'>广告代理</h1>
<div class='maruku_toc'><ul style='list-style: none;'><li><a href='#id123'>广告代理</a></li><li><a href='#id124'>开发示例</a><ul style='list-style: none;'><li><a href='#_'>第一步 获取访问令牌</a></li><li><a href='#_'>第二步 获取当前授权用户有权操作的所有工作网络</a></li><li><a href='#_'>第三步 获取指定工作网络下所有广告主属性列表</a></li><li><a href='#_'>第四步 获取指定工作网络下某个广告主有操作权限的项目列表</a></li></ul></li><li><a href='#id125'>其它信息</a></li></ul></div>
<p>TrackMaster™ 所有 API 的访问都是通过 HTTP 执行的，所有被发送和接收的数据都是 JSON。请在开发前先阅读 <a href='http://dev.admaster.com.cn/doc/openmaster/v1/cn/get_started.html'>快速入门</a>、<a href='http://dev.admaster.com.cn/doc/openmaster/v1/cn/oauth.html'>OAuth 认证</a>、<a href='http://dev.admaster.com.cn/doc/openmaster/v1/cn/verbs.html'>协议及请求方式</a>、<a href='http://dev.admaster.com.cn/doc/openmaster/v1/cn/common.html'>接口定义-通用说明</a>。</p>

<p>TrackMaster™ 使用 OAuth2.0 对用户进行验证，保障用户的隐私和安全性。在您阅读本文进行开发时，您应当已经取得了您的帐号。如果没有，请至 <a href='http://www.admaster.com.cn'>AdMaster 官网</a> 申请帐号。</p>

<p>当您已经拥有 TrackMaster 账号并且刚开始准备进行 API 访问，请先至 <a href='http://dev.admaster.com.cn/doc/openmaster/v1/cn/index.html#clientid--client-secret-key'>申请应用</a> 申请获取 ClientID 与 Client Secret Key。</p>

<p>TrackMaster API 结构与业务逻辑一致，请访问 <a href='http://help.admaster.com.cn/trackmaster/'>帮助中心</a> 获取相关业务知识，您也可以从 <a href='/doc/trackmaster/v1/cn/index.html'>概述</a> 简单了解。</p>

<h1 id='id124'>开发示例</h1>

<h2 id='_'>第一步 获取访问令牌</h2>

<pre><code>POST http://open.admaster.com.cn/oauth/access_token</code></pre>

<p><strong>参数</strong></p>

<pre><code>{
  &quot;client_id&quot;: &quot;***&quot;,
  &quot;client_secret&quot;: &quot;***&quot;,
  &quot;grant_type&quot;: &quot;password&quot;,
  &quot;email&quot;: &quot;yourmailaddress@email.com&quot;,
  &quot;password&quot;: &quot;***&quot;
}</code></pre>

<p><strong>响应</strong></p>

<pre><code>{
  &quot;access_token&quot;: &quot;7a68b4d65ddd6a6191ef0cbf9cadb06528d92d67&quot;,
  &quot;expires_in&quot;: &quot;18000&quot;,
  &quot;refresh_token&quot;: &quot;23a89c9944afc0525a25d15d180c6bce03efa331&quot;
}</code></pre>

<p><code>access_token</code>在<code>expires_in</code>秒内有效，超期后请重新访问该接口获取新的访问令牌，携带参数：</p>

<pre><code>{
  &quot;client_id&quot;: &quot;***&quot;,
  &quot;client_secret&quot;: &quot;***&quot;,
  &quot;grant_type&quot;: &quot;refresh_token&quot;,
  &quot;refresh_token&quot;: &quot;***&quot;
}</code></pre>

<h2 id='_'>第二步 获取当前授权用户有权操作的所有工作网络</h2>

<pre><code>GET /user/networks</code></pre>

<p><strong>响应</strong></p>

<pre class='prettyprint'><code>Status: 200 OK
X-RateLimit-Limit: 5000
X-RateLimit-Remaining: 4999</code></pre>

<pre><code>[
   {
    &quot;id&quot;: 11,//网络 ID
    &quot;url&quot;: &quot;https:///networks/11&quot;,
    &quot;name&quot;: &quot;测试工作网络&quot;, //别名
    &quot;created_at&quot;: &quot;2012-09-06T20:39:23Z&quot; //创建时间
    &quot;account&quot;: {
        &quot;status&quot;: &quot;enabled&quot;, //`enabled` 可用, `disabled` 禁用, `unactive` 未激活
        &quot;created_at&quot;: &quot;2012-01-10T02:30:59Z&quot;, //当前用户加入网络的时间
        &quot;role&quot;: {
            &quot;id&quot;: 1,//角色 ID
            &quot;name&quot;: &quot;高级管理员(super admin)&quot;//角色名称
         }
      }
   }
]</code></pre>

<h2 id='_'>第三步 获取指定工作网络下所有广告主属性列表</h2>

<pre><code>GET /networks/:network_id/advertisers</code></pre>

<p><strong>响应</strong></p>

<pre class='prettyprint'><code>Status: 200 OK
X-RateLimit-Limit: 5000
X-RateLimit-Remaining: 4999</code></pre>

<pre><code>[
  {
    &quot;advertiser_id&quot;: 10933,//广告主 ID
    &quot;url&quot;: &quot;http:///networks/11/advertisers/10933&quot;,
    &quot;name&quot;: {&quot;zh_cn&quot; =&gt; &quot;腾讯&quot;, &quot;en_us&quot; =&gt; &quot;tencent&quot;},   //广告主名称
    &quot;status&quot;: &quot;enabled&quot;,//网络下广告主当前状态
    &quot;alias&quot;: &quot;腾讯&quot;,//广告主别名
    &quot;logo&quot;: &quot;http://www.trackmaster.com.cn/data/advIcon/tencent.jpg&quot;,  //Logo URL
    &quot;created_at&quot;: &quot;2012-09-06T20:39:23Z&quot;  //创建时间
  }
]</code></pre>

<h2 id='_'>第四步 获取指定工作网络下某个广告主有操作权限的项目列表</h2>

<pre><code>GET /networks/:network_id/advertisers/:advertiser_id/campaigns</code></pre>

<p><strong>参数</strong></p>

<dl>
<dt><code>name</code></dt>

<dd><em>可选</em> <strong>string</strong> - 项目名称，支持模糊搜索，例如：名称为 “这是一个测试项目” 搜索 “一个”即可找到该项目</dd>

<dt><code>network_brand_id</code></dt>

<dd><em>可选</em> <strong>integer</strong> - 项目所属网络品牌ID</dd>

<dt><code>status</code></dt>

<dd><em>可选</em> <em>Enum</em> - 项目状态</dd>
</dl>

<p>* <code>all</code> - 所有状态, (_默认_) * <code>typing</code> - 编辑中，当项目的属性、位置列表、点位等数据任意有值时，状态为编辑中。 * <code>testing</code> - 测试中，当项目的监测代码已生成并已导出，且有数据进来，状态为测试中。 * <code>kickoff</code> - 项目初期，项目上线的第一周为项目初期。 * <code>midterm</code> - 项目中期，项目初期之后到项目结束一周前，为项目中期，小于一周的项目没有项目中期。 * <code>teminal</code> - 项目末期，结束日期的前一周，为项目末期。小于一周的项目没有项目末期；大于一周且小于两周的项目没有项目中期，项目末期为开始日期一周后到结束的时间段。 * <code>finished</code> - 已结束，当前时间在结束时间之后的，为已结束状态。</p>

<dl>
<dt><code>start_date</code></dt>

<dd><em>可选</em> <strong>date</strong> - 项目开始时间，会列出项目开始日期小于等于此设定的项目。</dd>

<dt><code>end_date</code></dt>

<dd><em>可选</em> <strong>date</strong> - 项目结束时间，会列出项目结束日期大于等于此设定的项目。</dd>

<dt><code>sort</code></dt>

<dd><em>可选</em> <strong>string</strong> - 列表排序以什么排序</dd>
</dl>

<p>* <code>id</code> - 按照项目 ID 排序 * <code>network_brand_id</code> - 按照品牌 ID 排序 * <code>name</code> - 按照项目名称排序 * <code>total_cost</code> - 按照总成本排序 * <code>media_num</code> - 按照媒体数排序 * <code>placement_num</code> - 按照广告位数排序 * <code>start_date</code> - 按照开始日期排序 * <code>end_date</code> - 按照结束日期排序 * <code>est_imp</code> - 按照总预计曝光排序 * <code>est_clk</code> - 按照总预计点击排序</p>

<dl>
<dt><code>direction</code></dt>

<dd><em>可选</em> <strong>string</strong> - 排序方式</dd>
</dl>

<p>* <code>asc</code> 升序 (_默认_) * <code>desc</code> 降序</p>

<p><strong>响应</strong></p>

<pre class='prettyprint'><code>Status: 200 OK
Link: &lt;http:///networks/11/advertisers/10774/campaigns?page=2&gt;; rel=&quot;next&quot;,
      &lt;http:///networks/11/advertisers/10774/campaigns?page=10&gt;; rel=&quot;last&quot;
X-RateLimit-Limit: 5000
X-RateLimit-Remaining: 4999</code></pre>

<pre><code>[
  {
    &quot;id&quot;: 10774,//项目 ID
    &quot;url&quot;: &quot;http:///networks/advertisers/campaigns/10774&quot;,
    &quot;name&quot;: &quot;这是一个测试项目&quot;,//项目名称
    &quot;network_brand_id&quot;: 290,//品牌 ID
    &quot;cost_type&quot;: &quot;CNY&quot;,
    &quot;total_cost&quot;: 20000000,//总成本
    &quot;start_date&quot;: &quot;2012-01-03&quot;,//项目开始时间
    &quot;end_date&quot;: &quot;2012-06-23&quot;,//项目结束时间
    &quot;default_target&quot;: &quot;http://www.admaster.com.cn&quot;//项目目标链接地址
    &quot;survey_id&quot;: 1024,//如果关联了 SurveyMaster，则存在 survey_id。
    &quot;media_num&quot;: 8,//项目下媒体数目
    &quot;placement_num&quot;: 258,//项目下广告位数目
    &quot;est_imp&quot;: 9183213,//项目的总预计曝光
    &quot;est_clk&quot;: 12334,//项目的总预计点击
    &quot;status&quot;: &quot;kickoff&quot;,//项目当前状态
    &quot;is_online&quot;: &quot;yes&quot;,//如果当前时间在项目开始时间到项目结束时间后 7 天内，返回值“yes”
    &quot;created_at&quot;: &quot;2012-09-06T20:39:23Z&quot;//项目创建时间
  }
]</code></pre>

<h1 id='id125'>其它信息</h1>

<p><a href='/doc/openmaster/v1/cn/index.html'>概述</a><br /><a href='/doc/openmaster/v1/cn/verbs.html'>协议及请求说明</a></p>