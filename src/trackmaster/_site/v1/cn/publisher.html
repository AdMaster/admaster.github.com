<h1 id='id116'>媒体对接指南</h1>
<div class='maruku_toc'><ul style='list-style: none;'><li><a href='#_'>第一步 获取访问令牌</a></li><li><a href='#_'>第二步 获取媒体项目列表</a></li><li><a href='#_'>第三步 获取项目媒体报告</a></li></ul></div>
<p>TrackMaster™ 所有API的访问都是通过 HTTP 执行的，所有被发送和接收的数据都是 JSON。</p>

<p>TrackMaster™ 使用 OAuth2.0 对用户进行验证，保障用户的隐私和安全性。</p>

<p>请在开发前先阅读 <a href='http://dev.admaster.com.cn/doc/openmaster/v1/cn/get_started.html'>快速入门</a>、<a href='http://dev.admaster.com.cn/doc/openmaster/v1/cn/oauth.html'>OAuth 认证</a>、<a href='http://dev.admaster.com.cn/doc/openmaster/v1/cn/verbs.html'>协议及请求方式</a>、<a href='http://dev.admaster.com.cn/doc/openmaster/v1/cn/common.html'>接口定义-通用说明</a>。</p>

<h2 id='_'>第一步 获取访问令牌</h2>

<pre><code>POST http://open.admaster.com.cn/oauth/access_token</code></pre>

<p><strong>参数</strong></p>

<pre><code>{
  &quot;client_id&quot;: &quot;***&quot;,
  &quot;client_secret&quot;: &quot;***&quot;,
  &quot;grant_type&quot;: &quot;password&quot;,
  &quot;email&quot;: &quot;yourmailaddress@email.com&quot;,
  &quot;password&quot;: &quot;***&quot;
}</code></pre>

<p><strong>响应</strong></p>

<pre><code>{
  &quot;access_token&quot;: &quot;7a68b4d65ddd6a6191ef0cbf9cadb06528d92d67&quot;,
  &quot;expires_in&quot;: &quot;18000&quot;,
  &quot;refresh_token&quot;: &quot;23a89c9944afc0525a25d15d180c6bce03efa331&quot;
}</code></pre>

<p><code>access_token</code>在<code>expires_in</code>秒内有效，超期后请重新访问该接口获取新的访问令牌，携带参数：</p>

<pre><code>{
  &quot;client_id&quot;: &quot;***&quot;,
  &quot;client_secret&quot;: &quot;***&quot;,
  &quot;grant_type&quot;: &quot;refresh_token&quot;,
  &quot;refresh_token&quot;: &quot;***&quot;
}</code></pre>

<h2 id='_'>第二步 获取媒体项目列表</h2>

<pre><code>GET http://track.admasterapi.com/medias/:media_id/campaigns</code></pre>

<p><strong>参数</strong></p>

<p>第一步中获取到的<code>access_token</code></p>

<pre><code>access_token=***</code></pre>

<p><strong>响应</strong></p>

<pre><code>[
  {
    &quot;id&quot;: 1,
    &quot;name&quot;: &quot;这是一个测试项目&quot;,
    &quot;start_date&quot;: &quot;2012-01-03&quot;,
    &quot;end_date&quot;: &quot;2012-06-23&quot;,
    &quot;created_at&quot;: &quot;2012-09-06T20:39:23Z&quot;
  }
]</code></pre>

<h2 id='_'>第三步 获取项目媒体报告</h2>

<pre><code>GET http://track.admasterapi.com/medias/:media_id/campaigns/:campaign_id/daily_reports</code></pre>

<p><strong>参数</strong></p>

<dl>
<dt><code>media_id</code></dt>

<dd><em>必选</em> <strong>Integer</strong> - TrackMaster 分配的媒体 ID</dd>

<dt><code>campaign_id</code></dt>

<dd><em>必选</em> <strong>Integer</strong> - 项目 ID</dd>
</dl>

<p><code>access_token=***</code></p>

<dl>
<dt><code>start_time</code></dt>

<dd><em>可选</em> <strong>Date</strong> - 项目开始日期，例如2012-08-01，会列出项目开始日期大于等于此设定的项目</dd>

<dd><em>可选</em> <strong>Date</strong> -项目结束日期，例如2012-08-02，会列出项目结束日期小于等于此设定的项目</dd>

<dd><em>可选</em> <strong>String</strong> - 列表排序以什么排序</dd>

<dt><code>direction</code></dt>

<dd><em>可选</em> <strong>String</strong> - 排序方式</dd>
</dl>

<p><strong>响应</strong></p>

<pre class='prettyprint'><code>Status: 200 OK</code></pre>

<pre><code>[

  {
    &quot;time&quot;: &quot;2012-08-01&quot;, // 时间
    &quot;imp&quot;: 23, //曝光
    &quot;uimp&quot;: 20, //独立曝光
    &quot;clk&quot;: 20, //点击
    &quot;uclk&quot;: 10, //独立点击
  }
]</code></pre>

<p><strong>详情参见</strong></p>

<p><a href='/doc/trackmaster/v1/cn/media_report.html'>媒体报告</a> <br /><a href='/doc/openmaster/v1/cn/verbs.html'>协议及请求说明</a></p>