<h1 id='trackmaster_api_python_sdk'>TrackMaster API Python SDK</h1>

<h3 id='id111'>示例类</h3>

<pre class='prettyprint'><code>import httplib, json

class TrackmasterClient:

    def __init__(self, host, port=80, options=None):
        self.host = host
        self.port = port

    def connect(self):
        return httplib.HTTPConnection(self.host, self.port) # No close()

    def get(self, uri):
        c = self.connect()
        headers = {&quot;Accept&quot;: &quot;application/json&quot;}
        c.request(&quot;GET&quot;, uri, None, headers)
        return c.getresponse()

    def post(self, uri, body):
        c = self.connect()
        headers = {&quot;Content-type&quot;: &quot;application/json&quot;}
        c.request(&#39;POST&#39;, uri, body, headers)
        return c.getresponse()

    def put(self, uri, body):
        c = self.connect()
        if len(body) &gt; 0:
            headers = {&quot;Content-type&quot;: &quot;application/json&quot;}
            c.request(&quot;PUT&quot;, uri, body, headers)
        else:
            c.request(&quot;PUT&quot;, uri, body)
        return c.getresponse()

    def delete(self, uri):
        c = self.connect()
        c.request(&quot;DELETE&quot;, uri)
        return c.getresponse()</code></pre>

<h3 id='_access_token'>获取 access_token</h3>

<pre class='prettyprint'><code>def test():
    json = &quot;&quot;&quot;
    {
      &quot;client_id&quot;: &quot;***&quot;,
      &quot;client_secret&quot;: &quot;***&quot;,
      &quot;grant_type&quot;: &quot;password&quot;,
      &quot;email&quot;: &quot;***&quot;,
      &quot;password&quot;: &quot;***&quot;
    }
    &quot;&quot;&quot;
    client = TrackmasterClient(&#39;open.admaster.com.cn&#39;)
    response = client.post(&quot;/oauth/access_token&quot;, json)

if __name__ == &quot;__main__&quot;:
    test()</code></pre>

<h3 id='id112'>获取当前用户</h3>

<pre class='prettyprint'><code>client = TrackmasterClient(&quot;track.admasterapi.com&quot;)
response = client.get(&quot;/user?access_token=***&quot;)</code></pre>

<h3 id='id113'>获取当前用户网络</h3>

<pre class='prettyprint'><code>client = TrackmasterClient(&quot;track.admasterapi.com&quot;)
response = client.get(&quot;/user/networks?access_token=***&quot;)</code></pre>