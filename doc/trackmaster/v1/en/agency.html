<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Language" content="en-us" />
  <meta http-equiv="imagetoolbar" content="false" />
  <meta name="MSSmartTagsPreventParsing" content="true" />
  <title>Agency - trackmaster - AdMaster API 文档中心</title>
  <link href="/doc/assets/css/reset.css" rel="stylesheet" type="text/css" />
  <link href="/doc/assets/css/960.css" rel="stylesheet" type="text/css" />
  <link href="/doc/assets/css/uv_active4d.css" rel="stylesheet" type="text/css" />
  <link href="/doc/assets/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
  <link href="/doc/assets/js/prettify.css" media="screen" rel="stylesheet" type="text/css">
  <script src="/doc/assets/js/jquery.js" type="text/javascript"></script>
  <script src="/doc/assets/js/documentation.js" type="text/javascript"></script>
  <script src="/doc/assets/js/prettify.js" type="text/javascript"></script>
  <script>
    $(function() {
      // make code pritty
      window.prettyPrint && prettyPrint();
    });
  </script>
</head>
<body class="api">

    <div id="header-wrapper">
      <div id="header">
        <div>
          <a class="logo" href="/"><img src="/doc/assets/img/logo_developer.png" width="256" height="45"></a>
          <ul class="nav">
            <li><a href="/doc/openmaster/v1/cn/index.html">OpenMaster</a></li>
            <li><a href="/doc/trackmaster/v1/cn/index.html">TrackMaster</a></li>
            <li><a href="/doc/weibomaster/v1/cn/index.html">WeiboMaster</a></li>
            <li><a href="/doc/surveymaster/v1/cn/index.html">SurveyMaster</a></li>
          </ul>
        </div>
      </div><!-- #header -->
    </div><!-- #header-wrapper -->

    <div id="wrapper">
      <div class="content">
        <h1 id="trackmaster-api-for-agency">TrackMaster API for Agency</h1>

<ul id="markdown-toc">
  <li><a href="#step-one--getting-the-accesstoken">Step One  Getting the access_token</a></li>
  <li><a href="#step-two-getting-the-authorized-networks-data">Step Two Getting the authorized networks data</a></li>
  <li><a href="#step-three-getting-the-advertiser-data">Step Three Getting the advertiser data</a></li>
  <li><a href="#step-four-getting-the-campaign-data">Step Four Getting the campaign data</a></li>
</ul>

<p>TrackMaster provides an API for programmatic access to account data. All API access is over HTTPS. All data is sent and received as JSON.</p>

<p>TrackMaster APIs use the OAuth 2.0 protocol for authentication and authorization.</p>

<p>All developers need to register their application before getting started. A registered OAuth application is assigned a unique <code>client_id</code> and <code>client_secret</code>. The <code>client_secret</code> should not be shared.</p>

<p>You must have a TrackMaster account. You can apply for a TrackMaster account here <a href="http://www.admaster.com.cn">AdMaster</a>.</p>

<p>Read <a href="http://help.admaster.com.cn/trackmaster/">Help Center</a> to learn about business logic.</p>

<p>Read <a href="/doc/trackmaster/v1/cn/index.html">Index</a> to learn about main objects.</p>

<h1 id="guides">Guides</h1>

<h2 id="step-one--getting-the-accesstoken">Step One  Getting the access_token</h2>

<pre><code>POST http://open.admaster.com.cn/oauth/access_token
</code></pre>

<p><strong>Parameters</strong></p>

<pre><code>{
  "client_id": "***",
  "client_secret": "***",
  "grant_type": "password",
  "email": "yourmailaddress@email.com",
  "password": "***"
}
</code></pre>

<p><strong>Response</strong></p>

<pre><code>{
  "access_token": "7a68b4d65ddd6a6191ef0cbf9cadb06528d92d67",
  "expires_in": "18000",
  "refresh_token": "23a89c9944afc0525a25d15d180c6bce03efa331"
}
</code></pre>

<p>Access tokens have a limited lifetime and, in some cases, an application needs access to a TrackMaster API beyond the lifetime of <code>expires_in</code>. When this is the case, your application can obtain what is called a refresh token. A refresh token and some parameters allow your application to obtain new access tokens. </p>

<p><strong>Parameters</strong></p>

<pre><code>{
  "client_id": "***",
  "client_secret": "***",
  "grant_type": "refresh_token",
  "refresh_token": "***"
}
</code></pre>

<h2 id="step-two-getting-the-authorized-networks-data">Step Two Getting the authorized networks data</h2>

<pre><code>GET /user/networks
</code></pre>

<p><strong>Response</strong></p>

<pre><code>Status: 200 OK
X-RateLimit-Limit: 5000
X-RateLimit-Remaining: 4999
</code></pre>

<pre class="prettyprint"><code>[
   {
    "id": 1,
    "url": "https://api.trackmaster.com.cn/networks/1",
    "name": "Testing Network", //Alias
    "created_at": "2012-09-06T20:39:23Z" //Creation Time
    "account": {
        "status": "enabled", //`enabled` , `disabled` , `unactive` 
        "created_at": "2012-01-10T02:30:59Z", //Network Authorized Time for User  
        "role": {
            "id": 1,
            "name": "高级管理员(super admin)"
         }
      }
   }
]
</code></pre>

<h2 id="step-three-getting-the-advertiser-data">Step Three Getting the advertiser data</h2>
<p>List  advertiser data for the specified network.</p>

<pre><code>GET /networks/:network_id/advertisers
</code></pre>

<p><strong>Response</strong></p>

<pre><code>Status: 200 OK
X-RateLimit-Limit: 5000
X-RateLimit-Remaining: 4999
</code></pre>

<pre class="prettyprint"><code>[
  {
    "advertiser_id": 1,
    "url": "http://track.admasterapi.com/networks/1/advertisers/1",
    "name": {"zh_cn" =&gt; "腾讯", "en_us" =&gt; "tencent"},   //Advertiser Name
    "status": "enabled",
    "alias": "ibm",
    "logo": "http://www.trackmaster.com.cn/data/advIcon/1.jpg",  //Logo URL
    "created_at": "2012-09-06T20:39:23Z"  //Creation Time
  }
]
</code></pre>

<h2 id="step-four-getting-the-campaign-data">Step Four Getting the campaign data</h2>

<p>List campaigns for the specified advertiser in authorized network.</p>

<pre><code>GET /networks/:network_id/advertisers/:advertiser_id/campaigns
</code></pre>

<p><strong>Parameters</strong></p>

<dl>
  <dt><code>name</code></dt>
  <dd><em>Optional</em> <strong>string</strong> - Campaign Name</dd>
  <dt><code>network_brand_id</code></dt>
  <dd><em>Optional</em> <strong>integer</strong> - Network Brand ID</dd>
  <dt><code>status</code></dt>
  <dd><em>Optional</em> <em>Enum</em> - Campaign Status

    <ul>
      <li><code>all</code> - All Status, (<em>Default</em>)</li>
      <li><code>typing</code> - Typing</li>
      <li><code>testing</code> - Testing</li>
      <li><code>kickoff</code> - Beginning Period</li>
      <li><code>midterm</code> - Medium-term</li>
      <li><code>teminal</code> - Terminal</li>
      <li><code>finished</code> - Finished</li>
    </ul>
  </dd>
  <dt><code>start_date</code></dt>
  <dd><em>Optional</em> <strong>date</strong> - Beginning date to retrieve data in format YYYY-MM-DD. Listing campaigns which beginning time date than  <code>start_date</code>.</dd>
  <dt><code>end_date</code></dt>
  <dd><em>Optional</em> <strong>date</strong> - Final date to retrieve data in format YYYY-MM-DD. Listing campaigns which final data later than  <code>end_data</code>.</dd>
  <dt><code>sort</code></dt>
  <dd><em>Optional</em> <strong>string</strong> - The order to retrieve the results.

    <ul>
      <li><code>id</code> - Sorting occurs by campaign id.</li>
      <li><code>network_brand_id</code> - Sorting occurs by network brand id.</li>
      <li><code>name</code> - Sorting occurs by campaign name.</li>
      <li><code>total_cost</code> - Sorting occurs by total cost.</li>
      <li><code>media_num</code> - Sorting occurs by<code>media_num</code>.</li>
      <li><code>placement_num</code> - Sorting occurs by <code>placement_num</code>.</li>
      <li><code>start_date</code> - Sorting occurs by beginning date.</li>
      <li><code>end_date</code> - Sorting occurs by final date.</li>
      <li><code>est_imp</code> - Sorting occurs by estimate impression.</li>
      <li><code>est_clk</code> - Sorting occurs by estimate click.</li>
    </ul>
  </dd>
  <dt><code>direction</code></dt>
  <dd><em>Optional</em> <strong>string</strong> - The direction to retrieve the results.

    <ul>
      <li><code>asc</code> Ascend (<em>Default</em>)</li>
      <li><code>desc</code> Descend</li>
    </ul>
  </dd>
</dl>

<p><strong>Response</strong></p>

<pre><code>Status: 200 OK
Link: &lt;http://track.admasterapi.com/networks/12/advertisers/122/campaigns?page=2&gt;; rel="next",
      &lt;http://track.admasterapi.com/networks/12/advertisers/122/campaigns?page=10&gt;; rel="last"
X-RateLimit-Limit: 5000
X-RateLimit-Remaining: 4999
</code></pre>

<pre class="prettyprint"><code>[
  {
    "id": 1,
    "url": "http://track.admasterapi.com/networks/advertisers/campaigns/1",
    "name": "This is a testing campaign",
    "network_brand_id": 10213,
    "cost_type": "CNY",
    "total_cost": 20000000,
    "start_date": "2012-01-03",
    "end_date": "2012-06-23",
    "default_target": "http://www.admaster.com.cn"
    "survey_id": 1024,
    "media_num": 8,
    "placement_num": 258,
    "est_imp": 9183213,
    "est_clk": 12334,
    "status": "typing",
    "is_online": "yes",
    "created_at": "2012-09-06T20:39:23Z"
  }
]
</code></pre>

<h1 id="more-information">More information</h1>

<p><a href="/doc/openmaster/v1/cn/index.html">Index</a></p>

<p><a href="/doc/openmaster/v1/cn/verbs.html">Protocal and Requests Instructions</a></p>


      </div>

    <div id="js-sidebar" class="sidebar-shell">
      <div class="js-toggle-list sidebar-module expandable">
        <ul>
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
              <li class="js-topic">
                <h3>
                  <a href="#" class="js-expand-btn collapsed">&nbsp;</a>
                  <a  href="/doc/trackmaster/v1/en/index.html">TrackMaster™ Index</a>
                </h3>
                <ul class="js-guides">
                  
                </ul>
              </li>
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
              <li class="js-topic">
                <h3>
                  <a href="#" class="js-expand-btn collapsed">&nbsp;</a>
                  <a  href="/doc/trackmaster/v1/cn/agency.html">代理</a>
                </h3>
                <ul class="js-guides">
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/advertiser.html">广告主</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/brand.html">品牌</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/campaign.html">项目</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/campaign_report.html">项目报告</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/channel.html">频道</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/code.html">代码</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/creative.html">创意</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/media.html">媒体</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/network.html">工作网络</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/placement.html">广告位</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/spot.html">点位</a></li>
                  
                </ul>
              </li>
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
              <li class="js-topic">
                <h3>
                  <a href="#" class="js-expand-btn collapsed">&nbsp;</a>
                  <a class="active" href="/doc/trackmaster/v1/en/agency.html">Agency</a>
                </h3>
                <ul class="js-guides">
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/advertiser.html">广告主</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/brand.html">品牌</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/campaign.html">项目</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/campaign_report.html">项目报告</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/channel.html">频道</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/code.html">代码</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/creative.html">创意</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/media.html">媒体</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/network.html">工作网络</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/placement.html">广告位</a></li>
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/spot.html">点位</a></li>
                  
                </ul>
              </li>
            
          
          
          
            
          
          
          
            
              <li class="js-topic">
                <h3>
                  <a href="#" class="js-expand-btn collapsed">&nbsp;</a>
                  <a  href="/doc/trackmaster/v1/en/publisher.html">Media</a>
                </h3>
                <ul class="js-guides">
                  
                  <li style=""><a href="/doc/trackmaster/v1/cn/media_report.html">媒体报告</a></li>
                  
                </ul>
              </li>
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
          
          
          
          
            
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
          
          
          
          
          
          
          
            
          
          
          
            
          
          
          
            
          
          
        
       </ul>
      </div> <!-- /sidebar-module -->

      <div class="sidebar-module">
        <p>
          <a href="/doc/trackmaster/v1/cn/index.html">中文 (中国)</a>
          <a href="/doc/trackmaster/v1/en/index.html">English</a>
        </p>
      </div>

    </div><!-- /sidebar-shell -->

    </div><!-- #wrapper -->

    <div id="footer" >
       <div class="lower_footer">
        <div class="footer_inner clearfix">
          <div id="legal">
              <!--<ul id="legal_links">
                <li><a href="http://www.admaster.com.cn/">AdMaster首页</a></li>
                <li><a href="http://www.trackmaster.com.cn/?m=home&amp;a=service">服务条款</a></li>
                <li><a href="http://www.admaster.com.cn/?page_id=27">与我们联系</a></li>
              </ul>-->

              <p>&copy; <span id="year">year</span> AdMaster Inc. All rights reserved.</p>
              <p>&nbsp;</p>
            </div><!-- /#legal or /#legal_ie-->
        </div><!-- /.site -->
      </div><!-- /.lower_footer -->
    </div><!-- /#footer -->
</body>
</html>
